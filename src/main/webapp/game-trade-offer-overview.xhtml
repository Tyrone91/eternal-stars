<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      >
     
    <h:body >
    	<div>
	    	<h:panelGroup>
	    		<span>Send Offers</span>
	    		<ui:repeat var="offer" value="#{interactionHandler.trade.sendTradeOffers}">
	    			<div>
	    				<span>
	    					<h:outputText value="#{tradeOfferHandler.getReceiverName(offer)}"/>
	    				</span>
	    				<span>
	    					<span>
	    						<h:outputText value="#{offer.receiverGets.metal}"/>
	    					</span>
	    					<span>
	    						<h:outputText value="#{offer.receiverGets.crystal}"/>
	    					</span>
	    					<span>
	    						<h:outputText value="#{offer.receiverGets.energy}"/>
	    					</span>
	    				</span>
	    				<span>
	    					<h:commandButton value="Decline" action="#{interactionHandler.trade.declineTradeOffer(offer)}"/>
	    				</span>
	    			</div>
	    		</ui:repeat>
	    	</h:panelGroup>
	    	
	    	<h:panelGroup>
	    		<span>Received Offers</span>
	    		<ui:repeat var="offer" value="#{interactionHandler.trade.receivedTradeOffers}">
	    			<div>
	    				<span>
	    					<h:outputText value="#{tradeOfferHandler.getInitiatorName(offer)}"/>
	    				</span>
	    				<span>
	    					<h:commandButton value="Accept" action="#{interactionHandler.trade.acceptTradeOffer(offer)}"/>
	    					<h:commandButton value="Decline" action="#{interactionHandler.trade.declineTradeOffer(offer)}"/>
	    				</span>
	    			</div>
	    		</ui:repeat>
	    	</h:panelGroup>
    	</div>
    </h:body>
</html>